<div class="country-select">
  <label for="country">Country of Nationality</label>

  <div class="dropdown-wrapper">
    <input
      id="country"
      type="text"
      [(ngModel)]="searchTerm"
      (input)="filterCountries()"
      (focus)="dropdownOpen = true"
      (blur)="closeDropdown()"
      placeholder="Select or type a country"
    />

    <ul class="dropdown" *ngIf="dropdownOpen">
      <li *ngFor="let country of filteredCountries" (click)="selectCountry(country)">
        <span class="flag">{{ formShared.getFlagEmoji(country.iso2) }}</span>
        <span class="name">{{ country.name }}</span>
        <span class="code">{{ country.code }}</span>
      </li>
    </ul>
  </div>
</div>
